1. Find all active partnership involving a specific company user.

(suppose we have to find partnership of user with user_id = 13)

SELECT p.name
FROM Partnerships p
JOIN Partnership_Roles pr on pr.partnership = p.partnership_id
WHERE pr.user = 13 
AND p.is_active = "True";


2. List all the Company Users with their roles.

(suppose we have to find user of company "Aubergine" )

SELECT *
FROM User
WHERE company = (SELECT company_id
		 FROM Company
		 WHERE name = "Aubergine")

3. List all users associated with a specific partnership, including their roles.

(suppose we have to find user associated with partnership with partnership_id = 54)

SELECT u.name, u.email, c.name as company_name, pr.type
FROM Partnership_Roles pr
JOIN Users u ON pr.user = u.user_id
JOIN Company c ON u.company = c.company_id
WHERE pr.partnership = 54;

4. Get the total revenue generated by the specific partnership for a company.

(suppose we have to find total revenue generated by partnership with 
partnership_id = 54 for company with the company_id = 23)

SELECT SUM(con.amount) as total_revenue
FROM Contributions con
JOIN Opportunities o ON con.opportunities_id = o.opportunities_id
JOIN Partners p ON con.company_id = p.company_id
WHERE con.company_id = 23
AND p.partnership_id = 54;

